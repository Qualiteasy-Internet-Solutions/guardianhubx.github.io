!function(){function e(e){e.preventDefault();var t=e.target,n=t.querySelector("button[type='submit']"),r=document.getElementById("formLoadingOverlay");if("undefined"==typeof grecaptcha)return alert("Error: Google reCAPTCHA no está disponible. Recarga la página."),!1;n&&(n.disabled=!0),r&&r.classList.add("show"),grecaptcha.execute("6LfRmeoqAAAAAH-Dizpt81ZOBrU5YT-utPXeBUNn",{action:"submit"}).then(function(e){if(!e)return alert("Por favor, verifica que no eres un robot antes de enviar el formulario."),n&&(n.disabled=!1),r&&r.classList.remove("show"),!1;var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","g-recaptcha-response"),o.setAttribute("value",e),t.appendChild(o);var a=function(e){var t,n=e.elements,r=Object.keys(n).filter(function(e){return"honeypot"!==n[e].name||(t=n[e].value,!1)}).map(function(e){return void 0!==n[e].name?n[e].name:n[e].length>0?n[e].item(0).name:void 0}).filter(function(e,t,n){return n.indexOf(e)==t&&e}),o={};return r.forEach(function(e){var t=n[e];if(o[e]=t.value,t.length){for(var r=[],a=0;a<t.length;a++){var i=t.item(a);(i.checked||i.selected)&&r.push(i.value)}o[e]=r.join(", ")}}),o.formDataNameOrder=JSON.stringify(r),o.formGoogleSheetName=e.dataset.sheet||"responses",o.formGoogleSendEmail=e.dataset.email||"",{data:o,honeypot:t}}(t);if(a.honeypot)return n&&(n.disabled=!1),r&&r.classList.remove("show"),!1;!function(e){for(var t=e.querySelectorAll("button"),n=0;n<t.length;n++)t[n].disabled=!0}(t);var i=new XMLHttpRequest;i.open("POST",t.action),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.onreadystatechange=function(){if(4===i.readyState)if(200===i.status){t.reset();var e=t.querySelector("input[name='_next']").value;e&&(window.location.href=e)}else alert("Error al enviar el formulario. Por favor, intenta de nuevo."),n&&(n.disabled=!1),r&&r.classList.remove("show")};var d=Object.keys(a.data).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a.data[e])}).join("&");i.send(d)}).catch(function(e){return alert("Error con reCAPTCHA: "+e),n&&(n.disabled=!1),r&&r.classList.remove("show"),!1})}function t(){for(var t=document.querySelectorAll("form.gform"),n=0;n<t.length;n++)t[n].addEventListener("submit",e,!1)}window.loaded=function(){for(var t=document.querySelectorAll("form.gform"),n=0;n<t.length;n++)t[n].addEventListener("submit",e,!1)},"complete"===document.readyState?t():document.addEventListener("DOMContentLoaded",t,!1),document.addEventListener("DOMContentLoaded",t,!1)}();