<!-- layouts/landing-ciberseguridad.html -->
<!DOCTYPE html>
<html lang="{{ .Lang }}">
<head>
    {{ partial "head.html" . }}
</head>
<body>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-584VRJ97" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  {{ partial "header-inner.html" . }}

<section class="landing-hero-section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6 landing-fade-in">              
        <h1 class="landing-hero-title {{ .Slug }}">{{ .Title }}</h1>
        <h2 class="landing-hero-subtitle">{{ .Params.tagline }}</h2>
      </div>
      <div class="col-lg-6 text-center landing-slide-in-right">
        <div class="landing-hero-img-wrapper">
          <img src="{{ .Params.logo }}" alt="{{ .Title }} Logo" class="img-fluid mb-3">
        </div>
      </div>
    </div>
  </div>
</section>
<article>
<section class="landing-cta-section">
  {{ range .Params.intro }}
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8 landing-slide-in-left order-1 order-md-2">        
        <h3>{{ .title }}</h3>
        <div class="mb-3 text-start text-white"><div>{{ .description | markdownify }}</div></div>
      </div>
      <div class="col-lg-4 text-center landing-slide-in-right order-2 order-md-1">
        <img src="{{ .img }}" alt=" {{ .alt }}" class="img-fluid landing-training-img">
      </div>
    </div>
  </div>
  {{ end }}    
</section>

<section class="landing-section py-5"> 
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8 landing-slide-in-left">
        <h2 class="landing-section-title text-start">{{ .Params.texttitle }}</h2>
        <div class="mb-3">{{ .Content }}</div>
      </div>
      <div class="col-lg-4 text-center landing-slide-in-right order-2 order-md-1">
        {{ range .Params.screenshots }}
        <div class="text-center mb-2">
          <img src="{{ .image }}" class="img-fluid zoomable-image" alt="{{ .alt }}" onclick="openFullscreen(this)" />
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>
  {{ if .Params.video }}
  <!-- Video -->
  <section class="product-video container ratio ratio-16x9 mb-5">
    <iframe src="{{ .Params.video }}" allowfullscreen></iframe>
  </section>
  {{ end }}

  <!-- Downloads & links & test -->
  {{ if not .Params.hide_extra_ctas }}
  <section class="landing-steps-section py-5">
    <div class="container text-center mb-8">

      {{ if or (isset .Params "downloads") (isset .Params "links") }}

        <h2 class="landing-cta-title">{{ i18n "descargar_info" }}</h2>
        <div class="d-flex justify-content-center flex-wrap gap-2 mb-3">
          {{ range .Params.downloads }}
            <a href="/docs/{{ .file }}-{{ cond (eq $.Site.Language.Lang "ca") "es" $.Site.Language.Lang }}.pdf" class="btn btn-primary pdf-download">
              <i class="fas fa-file-pdf"></i> {{ .name }}
            </a>
          {{ end }}
          {{ range .Params.links }}
            <a href="{{ .url }}" class="btn btn-success" target="_blank">
              <i class="fas fa-globe"></i> {{ .name }}
            </a>
          {{ end }}
        </div>

      {{ else }}
        
          {{ partial "test-cta" . }}
        
      {{ end }}
    </div>
  </section>
  {{ end }}
  </article>
  <!-- Contact Form Partial -->
  {{ if not .Params.hide_extra_ctas }}
    {{ partial "contact-cta-product" . }}
  {{ end }}

  {{ partial "footer.html" . }}

  <!-- Overlay -->
  {{ partial "fullscreen-overlay.html" . }}

  <!-- JS condicional -->
  <script src="/js/util/fullscreen.js" defer></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.landing-navbar');
            if (navbar && window.scrollY > 50) {
                navbar.classList.add('landing-scrolled');
            } else if (navbar) {
                navbar.classList.remove('landing-scrolled');
            }
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('landing-visible');
                }
            });
        }, observerOptions);

        // Observe all animation elements
        document.querySelectorAll('.landing-fade-in, .landing-slide-in-left, .landing-slide-in-right').forEach(el => {
            observer.observe(el);
        });

        // Add loading animation
        window.addEventListener('load', function() {
            document.body.style.opacity = '1';
        });
    </script>

{{ if .Params.popup }} <div id="modalPedido" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <span class="close-modal" onclick="cerrarPopup()">&times;</span>
    
    <div class="modal-header">      
      <h3>{{ .Params.popup.title }}</h3>
      <p>{{ .Params.popup.subtitle }}</p>
    </div>

    <form id="formPedido" onsubmit="enviarPedidoWhatsapp(event)">
      
      <input type="hidden" id="wa_intro" value="{{ .Params.popup.wa_intro }}">
      <input type="hidden" id="wa_ending" value="{{ .Params.popup.wa_ending }}">

      <div class="form-group">
        <label>{{ .Params.popup.label_name }}</label>
        <input type="text" id="clienteNombre" required placeholder="Ej: Max">
      </div>

      <div class="form-group">
        <label>{{ .Params.popup.label_email }}</label>
        <input type="email" id="clienteEmail" required placeholder="email@domain.com">
      </div>

      <div class="form-group">
        <label>{{ .Params.popup.label_plan }}</label>
        <select id="clientePlan">
          {{ range .Params.popup.plans }}
            <option value="{{ . }}">{{ . }}</option>
          {{ end }}
        </select>
      </div>

      <button type="submit" class="btn-submit-whatsapp">
        <i class="fab fa-whatsapp"></i> {{ .Params.popup.btn_text }}
      </button>
      
      <p class="legal-note">{{ .Params.popup.legal }}</p>
    </form>
  </div>
</div>

<style>
  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); z-index: 9999; display: flex; justify-content: center; align-items: center; backdrop-filter: blur(5px); }
  .modal-content { background-color: white; padding: 30px; border-radius: 15px; width: 90%; max-width: 450px; position: relative; box-shadow: 0 10px 25px rgba(0,0,0,0.2); animation: slideDown 0.3s ease-out; text-align: left; }
  @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
  .close-modal { position: absolute; top: 15px; right: 20px; font-size: 28px; font-weight: bold; color: #aaa; cursor: pointer; }
  .close-modal:hover { color: #000; }
  .modal-header { text-align: center; margin-bottom: 20px; }
  .modal-header h3 { margin: 10px 0 5px; color: #0d2c56; }
  .modal-header p { font-size: 0.9rem; color: #666; }
  .form-group { margin-bottom: 15px; }
  .form-group label { display: block; font-weight: 600; margin-bottom: 5px; font-size: 0.9rem; color: #333; }
  .form-group input, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; }
  .btn-submit-whatsapp { width: 100%; background-color: #25D366; color: white; border: none; padding: 12px; font-size: 1.1rem; font-weight: bold; border-radius: 8px; cursor: pointer; margin-top: 10px; transition: background 0.3s; }
  .btn-submit-whatsapp:hover { background-color: #128C7E; }
  .legal-note { font-size: 0.75rem; color: #999; text-align: center; margin-top: 15px; }
</style>

<script>
  function abrirPopup() { document.getElementById('modalPedido').style.display = 'flex'; }
  function cerrarPopup() { document.getElementById('modalPedido').style.display = 'none'; }
  window.onclick = function(event) {
    var modal = document.getElementById('modalPedido');
    if (event.target == modal) { modal.style.display = "none"; }
  }

  function enviarPedidoWhatsapp(e) {
    e.preventDefault(); 
    var teuMobil = "34618985130";
        
    var introText = document.getElementById('wa_intro').value;
    var endingText = document.getElementById('wa_ending').value;

    var nombre = document.getElementById('clienteNombre').value;
    var email = document.getElementById('clienteEmail').value;
    var plan = document.getElementById('clientePlan').value;
    
    var missatge = "*" + introText + "* üöÄ\n\n" +
                   "üë§ *Name:* " + nombre + "\n" +
                   "üìß *Email:* " + email + "\n" +
                   "üõ°Ô∏è *Plan:* " + plan + "\n\n" +
                   endingText;

    var url = "https://wa.me/" + teuMobil + "?text=" + encodeURIComponent(missatge);
    window.open(url, '_blank');
    cerrarPopup();
  }
</script>
{{ end }}